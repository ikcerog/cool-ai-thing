/* Modern, accessible stylesheet for UI Test Pattern (contemporary sensibilities)
   - System font stack
   - CSS variables (color system, spacing, radii)
   - Accessible focus styles and reduced-motion support
   - Responsive container, grid, cards, form controls, and buttons
*/

:root{
  /* Color system */
  --bg: #0f1724; /* dark base for subtle contrast if user prefers dark, but page uses light background by default */
  --surface: #ffffff;
  --muted-100: #f8fafc;
  --muted-200: #f1f5f9;
  --muted-300: #e5e7eb; /* matches HTML swatch */
  --muted-600: #64748b;

  --accent-600: #2563EB; /* primary */
  --accent-500: #3B82F6;
  --accent-400: #60A5FA; /* lighter */

  --danger-500: #EF4444;

  /* Typography */
  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --text: #0F172A;
  --muted-text: #475569;

  /* Layout */
  --container-max: 1100px;
  --space-xs: 6px;
  --space-sm: 12px;
  --space-md: 20px;
  --space-lg: 32px;
  --radius-sm: 6px;
  --radius-md: 12px;
}

/* Base -------------------------------------------------------------- */
*{box-sizing:border-box}
html,body{height:100%}
/* Move page gradient to `html` so a backdrop element can sit above it */
html{
  background: linear-gradient(180deg,var(--muted-100),var(--surface));
}
body{
  margin:0;
  font-family:var(--font-sans);
  color:var(--text);
  background: transparent; /* allow backdrop to show through */
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.5;
  font-size:16px;
}

/* Container --------------------------------------------------------- */
.container{
  width:100%;
  max-width:var(--container-max);
  margin:0 auto;
  padding:0 var(--space-md);
}

/* Header ------------------------------------------------------------ */
.site-header{
  /* more opaque header so nav and toggle remain visible above backdrop */
  background: var(--surface);
  border-bottom:1px solid rgba(15,23,42,0.06);
  position:sticky;
  top:0;
  z-index:40;
  /* keep a subtle backdrop blur but reduced so header appears solid */
  backdrop-filter: saturate(1.02) blur(4px);
}
.header-grid{
  display:flex;
  align-items:center;
  gap:var(--space-md);
  padding:calc(var(--space-sm) + 2px) 0;
}
.brand{
  font-weight:700;
  letter-spacing:-0.02em;
  margin:0;
  font-size:1.125rem;
}
.nav{margin-left:auto; display:flex; gap:var(--space-sm);}
.nav-link{
  text-decoration:none;
  color:var(--muted-text);
  padding:8px 10px;
  border-radius:8px;
  transition:all .12s ease;
}
.nav-link:hover{background:rgba(99,102,241,0.06); color:var(--accent-600)}

/* Panels ------------------------------------------------------------ */
.panel{
  /* mostly opaque sections for readability */
  background: var(--surface);
  border-radius:var(--radius-md);
  padding:var(--space-md);
  margin:var(--space-lg) 0;
  box-shadow:0 10px 30px rgba(2,6,23,0.06);
  border:1px solid rgba(15,23,42,0.06);
}
.panel.small{padding:var(--space-sm)}

/* Palette ----------------------------------------------------------- */
.palette{display:flex; flex-wrap: wrap; gap:var(--space-sm); align-items:center; margin-top:var(--space-sm)}
.swatch{
  height:64px;
  border-radius:8px;
  /*display:grid; place-items:end center; width:88px; */
  display: flex;
  padding:8px; color:#fff; font-size:0.8rem; font-weight:600; text-shadow:0 1px 0 rgba(0,0,0,0.18);
}
.swatch span{background:rgba(0,0,0,0.18); padding:4px 8px; border-radius:6px; font-weight:600}
.swatch[style]{
  background:var(--bg);
}

/* Typography -------------------------------------------------------- */
h1,h2,h3,h4{margin:0 0 12px 0}
h1{font-size:1.5rem}
h2{font-size:1.125rem}
h3{font-size:1rem}
h4{font-size:0.95rem}
.lead{font-size:1.02rem; color:var(--muted-text); margin-top:6px}
.typ-list{padding-left:1.1rem}

/* Buttons ----------------------------------------------------------- */
.btn{
  font:inherit;
  border:0; cursor:pointer;
  padding:8px 14px; border-radius:10px;
  display:inline-flex; gap:8px; align-items:center; justify-content:center;
  transition:transform .08s ease, box-shadow .12s ease, opacity .12s ease;
  box-shadow: 0 1px 0 rgba(15,23,42,0.02);
}
.btn:active{transform:translateY(1px)}
.btn.primary{background:var(--accent-600); color:#fff}
.btn.primary:hover{filter:brightness(.98)}
.btn.secondary{background:transparent; color:var(--muted-text); border:1px solid rgba(15,23,42,0.06)}
.btn.ghost{background:transparent; color:var(--accent-600); box-shadow:none}
.btn.danger{background:var(--danger-500); color:#fff}

/* Form controls ----------------------------------------------------- */
input[type="text"], input[type="email"], textarea, select{
  width:100%; padding:10px 12px; border-radius:8px; border:1px solid rgba(15,23,42,0.06);
  background:var(--muted-100); color:var(--text);
}
label{display:block; margin-bottom:10px; color:var(--muted-text); font-size:0.95rem}
.checkbox{display:flex; gap:8px; align-items:center}
.form-actions{display:flex; gap:10px; margin-top:12px}

/* Grid / Cards ----------------------------------------------------- */
.grid{display:grid; gap:var(--space-md); grid-template-columns:repeat(1,1fr)}
.card{
  background: var(--surface);
  padding:var(--space-sm);
  border-radius:10px;
  border:1px solid rgba(15,23,42,0.06);
  box-shadow:0 6px 18px rgba(2,6,23,0.04);
}

@media(min-width:700px){
  .grid{grid-template-columns:repeat(3,1fr)}
  .header-grid{padding:calc(var(--space-sm) + 6px) 0}
}

/* Links and footer ------------------------------------------------- */
.link{color:var(--accent-600); text-decoration:none}
.site-footer{padding:var(--space-md) 0; color:var(--muted-text)}

/* stronger nav contrast in both themes */
.nav-link{ color:var(--text); }
.nav-link:hover{ color:var(--accent-600); }

/* make theme toggle more prominent */
.theme-toggle{ color:var(--text); border-radius:10px }

/* Accessibility: focus-visible and reduced motion ------------------- */
:focus{outline:none}
:focus-visible{
  outline:3px solid rgba(37,99,235,0.15);
  outline-offset:2px;
  border-radius:8px;
}

@media (prefers-reduced-motion: reduce){
  .btn, .nav-link{transition:none}
}

/* Utility helpers -------------------------------------------------- */
.visually-hidden{position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap}
.muted{color:var(--muted-text)}

/* Small theme helpers so inline swatches in HTML match variables */
/* allow using style="--bg:var(--accent-600)" on .swatch */
.swatch{background:var(--bg);}

/* Improve text contrast inside swatches that may use light colors */
.swatch[style*="#"], .swatch[style*="var(--muted-300)"]{color:var(--text); text-shadow:none}

/* Dark theme (toggleable) ------------------------------------------ */
/* Toggle by adding/removing the `theme-dark` class on <html> (documentElement). */
.theme-dark{
  --surface: #0b1220;
  --muted-100: #071129;
  --muted-200: #071729;
  --muted-300: #0f1724;
  --muted-600: #94a3b8;

  --text: #e6eef8;
  --muted-text: #9fb0c8;

  --accent-600: #60a5fa; /* brighter on dark */
  --accent-500: #3B82F6;
  --accent-400: #2563EB;

  --danger-500: #f87171;
}

/* Dark-mode component adjustments (improve contrast) ---------------- */
.theme-dark .nav-link{
  color: var(--muted-text);
  background: transparent;
}
.theme-dark .nav-link:hover{
  background: rgba(255,255,255,0.04);
  color: var(--accent-400);
}

.theme-dark .theme-toggle{
  border-color: rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.02);
  color: var(--muted-text);
}

.theme-dark .btn.secondary{
  border-color: rgba(255,255,255,0.06);
  color: var(--muted-text);
  background: rgba(255,255,255,0.01);
}

/* Panels and cards should be visibly distinct but still dark */
.theme-dark .panel,
.theme-dark .card{
  /* opaque dark surfaces for clarity */
  background: var(--surface);
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 8px 26px rgba(0,0,0,0.5);
  color: var(--muted-text);
}
.theme-dark .panel h2,
.theme-dark .card h4,
.theme-dark h1, .theme-dark h2, .theme-dark h3, .theme-dark h4{
  color: var(--text);
}
.theme-dark p, .theme-dark .lead, .theme-dark label, .theme-dark .typ-list li{
  color: var(--muted-text);
}

.theme-dark .site-footer{ color: var(--muted-text); }

/* Make sure the backdrop overlay darkens slightly in dark mode */
.theme-dark #backdrop::after{ background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.65)); }

/* Theme toggle button ------------------------------------------------ */
.theme-toggle{
  display:inline-flex; align-items:center; justify-content:center;
  gap:8px; padding:8px; border-radius:10px; background:transparent; border:1px solid rgba(15,23,42,0.04);
  color:var(--muted-text); cursor:pointer; font:inherit;
}
.theme-toggle:hover{background:rgba(99,102,241,0.04)}
.theme-toggle:active{transform:translateY(1px)}
.theme-toggle svg{width:16px; height:16px; display:block}

/* Show sun in light mode, moon in dark mode */
.theme-toggle .icon-sun{display:inline-block}
.theme-toggle .icon-moon{display:none}
.theme-dark .theme-toggle .icon-sun{display:none}
.theme-dark .theme-toggle .icon-moon{display:inline-block}

/* Subtle transitions for themeable properties */
html,body, .panel, .site-header, .card{transition:background-color .22s ease,color .18s ease,border-color .18s ease}

/* Randomized blurred backdrop (full-viewport) ----------------------- */
#backdrop{
  position:fixed; inset:0; z-index:0; pointer-events:none; user-select:none;
  background-position:center; background-size:cover; background-repeat:no-repeat;
  filter:blur(14px) saturate(1.04);
  transform:scale(1.02);
  opacity:0; transition:opacity .6s ease, filter .3s ease;
}
#backdrop.loaded{opacity:1}
#backdrop::after{
  content:''; position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.22));
  mix-blend-mode:normal;
}
.theme-dark #backdrop::after{ background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.55)); }

@media (max-width:600px){ #backdrop{filter:blur(10px) saturate(1)} }

/* Ensure page content stacks above the backdrop */
body > *{position:relative; z-index:1}

/* styles.css */
.auto-refresh { display:inline-flex; align-items:center; gap:.5rem; }
#auto-refresh { padding:.4rem .6rem; border-radius:.5rem; }
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }


/* End of stylesheet */
